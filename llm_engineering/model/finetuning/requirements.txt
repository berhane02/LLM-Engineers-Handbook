# =============================
# RUNTIME INSTALLATION for SageMaker PyTorch 2.2.0 Image
# =============================
# Only packages NOT pre-installed in AWS PyTorch 2.2.0 image
# Pre-installed: torch, torchvision, torchaudio, transformers, tokenizers, 
#               huggingface-hub, numpy, scipy, pandas, tqdm, packaging, 
#               wheel, accelerate, datasets, safetensors, bitsandbytes, 
#               triton, flash-attn

# Core utilities (not in base image)
sentencepiece

# Training frameworks (compatible with PyTorch 2.2.0)
peft>=0.7.1
trl>=0.7.11

# Utilities (lightweight)
rich>=13.3.2
pydantic<2.0.0

# Experiment tracking
comet-ml==3.44.3

# Unsloth (must be after PyTorch) - for 2-5x speedup
# Installs at runtime (~3 minutes)
# Compatible with PyTorch 2.2.0 + CUDA 12.1
unsloth[torch] @ git+https://github.com/unslothai/unsloth.git